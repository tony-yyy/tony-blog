<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>博客管理登录</title>
  <base href="/">
  <link href="images/favicon.ico"rel="icon" type="image/x-ico">
  <link rel="stylesheet" href="lib/semantic/dist/semantic.min.css">
  <link rel="stylesheet" href="css/me.css">
</head>
<body>

<br>
<br>
<br>
 <div class="m-container-small m-padded-tb-massive" style="max-width: 30em !important;">
   <div class="ur container">
     <div class="ui middle aligned center aligned grid">
       <div class="column">
         <h2 class="ui teal image header">
           <div class="content">
             管理后台登录
           </div>
         </h2>
         <form id="form" class="ui large form" method="post" action="#">
           <div class="ui  segment">
             <div class="field">
               <div class="ui left icon input">
                 <i class="user icon"></i>
                 <input type="text" name="username" placeholder="用户名">
               </div>
             </div>
             <div class="field">
               <div class="ui left icon input">
                 <i class="lock icon"></i>
                 <input type="password" name="password" placeholder="密码">
               </div>
             </div>
             <button id="submitForm" class="ui fluid large teal button">登   录</button>
           </div>

           <div class="ui error mini message"></div>
           <div class="ui mini negative message" id="message"  ></div>

         </form>

       </div>
     </div>
   </div>
 </div>


<script src="lib/jquery-3.2.1/jquery-3.2.1.min.js" ></script>
<script src="lib/semantic/dist/semantic.min.js" ></script>


<script>
/*
  $('.ui.form').form({
    fields : {
      username : {
        identifier: 'username',
        rules: [{
          type : 'empty',
          prompt: '请输入用户名'
        }]
      },
      password : {
        identifier: 'password',
        rules: [{
          type : 'empty',
          prompt: '请输入密码'
        }]
      }
    }
  });
*/

  $("#submitForm").click(function (but) {
    but.preventDefault();
    $.ajax({
      type: "POST",
      url: "/admin/login",
      data: $('#form').serialize(),
      async: true,
      success: function (data) {
        console.log(data)
        if (data.error){
          $("#message").html(data.errorInfo);
        }else {
          window.location.replace("/admin/index.html");
        }
      }
    })
  })
</script>

</body>
</html>
